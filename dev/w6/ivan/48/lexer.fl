%class-name = "Scanner"
%filenames = "scanner"

%x comment

normInclude           "#include \""[^\r\n]*"\""
compInclude           "#include <"[^\r\n]*">"

slc                   "//".*
include               {compInclude}|{normInclude}

%%

"/*"                        { 
                                echo();
                                begin(StartCondition__::comment); 
                            } 
<comment>"*/"               { 
                                echo();
                                begin(StartCondition__::INITIAL);
                            }
<comment>.
<comment>\n
{slc}                       echo();

{include}                   addInclude(inc);

.                           echo();
\n                          echo();
