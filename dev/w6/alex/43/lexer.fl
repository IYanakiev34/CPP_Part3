%class-name = "Scanner"
%filenames = "scanner"

%x comment lineStart inString

eolComment                  "//".*
whitespace                  [ \t\n]+

%%

"/*"                        begin(StartCondition__::comment);
<comment>"*/"               begin(StartCondition__::INITIAL);
<comment>"*/ "              begin(StartCondition__::INITIAL);
<comment>.
<comment>\n

\"                          { begin(StartCondition__::inString); echo(); }
<inString>\"                { begin(StartCondition__::INITIAL); echo(); }
<inString>(.|\n)            echo();

\n                          {
                              begin(StartCondition__::lineStart);
                              return matched()[0];
                            }
<lineStart>{whitespace}     begin(StartCondition__::INITIAL);
<lineStart>.                {
                              begin(StartCondition__::INITIAL);
                              return matched()[0];
                            }

{eolComment}
\n
.               return matched()[0];
